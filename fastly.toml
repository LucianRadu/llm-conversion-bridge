# This file describes a Fastly Compute package. To learn more visit:
# https://www.fastly.com/documentation/reference/compute/fastly-toml

name = "llm-conversion-bridge"
description = "LLM Conversion Bridge - MCP server running on Fastly Compute (TypeScript)"
authors = ["Adobe"]
language = "javascript"
manifest_version = 3

[backends]
  [backends.ims-prod]
    url = "https://ims-na1.adobelogin.com/"
    override_host = "ims-na1.adobelogin.com"

[compute]
  # We are using the new JS-Compute runtime
  [compute.javascript]

[local_server]
  enableStreamingFetch = true
  [local_server.backends]
    [local_server.backends.ims-prod]
      url = "https://ims-na1.adobelogin.com/"
      override_host = "ims-na1.adobelogin.com"

[scripts]
  # The build script to run before deploying.
  build = "npm run build:fastly"

[env]
  PUBLISH_BASE_URL = "https://publish-p148639-e1512661.adobeaemcloud.com"
  IMS_FASTLY_BACKEND = "ims-prod"
